"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[594],{4099:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api/index","title":"API Reference","description":"Complete API reference for PhyTorch modules and functions.","source":"@site/docs/api/index.md","sourceDirName":"api","slug":"/api/","permalink":"/docs/api/","draft":false,"unlisted":false,"editUrl":"https://github.com/PlantSimulationLab/phytorch/tree/main/website/docs/api/index.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"LI-600 Porometer Correction","permalink":"/docs/utilities/li600-correction"}}');var r=i(4848),t=i(8453);const d={sidebar_position:1},l="API Reference",c={},o=[{value:"Unified API",id:"unified-api",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Returns",id:"returns",level:3},{value:"Core Function",id:"core-function",level:2},{value:"<code>fit(model, data, options=None)</code>",id:"fitmodel-data-optionsnone",level:3},{value:"Available Models",id:"available-models",level:2},{value:"Generic Models (<code>phytorch.models.generic</code>)",id:"generic-models-phytorchmodelsgeneric",level:3},{value:"Hydraulics Models (<code>phytorch.models.hydraulics</code>)",id:"hydraulics-models-phytorchmodelshydraulics",level:3},{value:"Photosynthesis Models (<code>phytorch.models.photosynthesis</code>)",id:"photosynthesis-models-phytorchmodelsphotosynthesis",level:3},{value:"FitResult Object",id:"fitresult-object",level:2},{value:"Attributes",id:"attributes",level:3},{value:"Methods",id:"methods",level:3},{value:"FitOptions",id:"fitoptions",level:2},{value:"FitOptions Parameters",id:"fitoptions-parameters",level:3},{value:"Model Base Class",id:"model-base-class",level:2},{value:"Quick Reference",id:"quick-reference",level:2},{value:"Fitting a Model",id:"fitting-a-model",level:3},{value:"Plotting Results",id:"plotting-results",level:3},{value:"Making Predictions",id:"making-predictions",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,r.jsx)(n.p,{children:"Complete API reference for PhyTorch modules and functions."}),"\n",(0,r.jsx)(n.h2,{id:"unified-api",children:"Unified API"}),"\n",(0,r.jsx)(n.p,{children:"PhyTorch provides a simple, consistent interface for all models:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from phytorch import fit\n\nresult = fit(model, data, options=None)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"model"}),": Any PhyTorch model instance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"data"}),": Dictionary mapping variable names to numpy arrays"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"options"}),": Optional ",(0,r.jsx)(n.code,{children:"FitOptions"})," object for customization"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"returns",children:"Returns"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"FitResult"}),": Object containing fitted parameters, predictions, statistics, and plotting methods"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"core-function",children:"Core Function"}),"\n",(0,r.jsx)(n.h3,{id:"fitmodel-data-optionsnone",children:(0,r.jsx)(n.code,{children:"fit(model, data, options=None)"})}),"\n",(0,r.jsx)(n.p,{children:"Universal fitting function for all PhyTorch models."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from phytorch import fit\nfrom phytorch.models.generic import Sigmoidal\n\ndata = {'x': x_data, 'y': y_data}\nresult = fit(Sigmoidal(), data)\n\n# Access results\nprint(result.parameters)  # Fitted parameter values\nprint(result.r_squared)   # Goodness of fit\npredictions = result.predict(new_data)\nresult.plot()  # Automatic visualization\n"})}),"\n",(0,r.jsx)(n.h2,{id:"available-models",children:"Available Models"}),"\n",(0,r.jsxs)(n.h3,{id:"generic-models-phytorchmodelsgeneric",children:["Generic Models (",(0,r.jsx)(n.code,{children:"phytorch.models.generic"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"General-purpose curve fitting models:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Model"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Required Data"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Linear"})}),(0,r.jsx)(n.td,{children:"Linear regression y = a*x + b"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Sigmoidal"})}),(0,r.jsx)(n.td,{children:"Rational sigmoid curve"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RectangularHyperbola"})}),(0,r.jsx)(n.td,{children:"Michaelis-Menten kinetics"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"NonrectangularHyperbola"})}),(0,r.jsx)(n.td,{children:"Non-rectangular hyperbola"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Arrhenius"})}),(0,r.jsx)(n.td,{children:"Temperature response"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PeakedArrhenius"})}),(0,r.jsx)(n.td,{children:"Peaked temperature response"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Gaussian"})}),(0,r.jsx)(n.td,{children:"Bell-shaped curve"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Weibull"})}),(0,r.jsx)(n.td,{children:"Weibull distribution PDF"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Beta"})}),(0,r.jsx)(n.td,{children:"Beta distribution"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"y"})]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from phytorch import fit\nfrom phytorch.models.generic import RectangularHyperbola\n\ndata = {'x': substrate_conc, 'y': reaction_rate}\nresult = fit(RectangularHyperbola(), data)\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"hydraulics-models-phytorchmodelshydraulics",children:["Hydraulics Models (",(0,r.jsx)(n.code,{children:"phytorch.models.hydraulics"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Plant water relations models:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Model"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Required Data"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Sigmoidal"})}),(0,r.jsx)(n.td,{children:"Hydraulic vulnerability curve"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"x"}),", ",(0,r.jsx)(n.code,{children:"psi"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SJB2018"})}),(0,r.jsx)(n.td,{children:"Pressure-volume curve (Sack, John, Buckley 2018)"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"w"}),", ",(0,r.jsx)(n.code,{children:"psi"})]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from phytorch import fit\nfrom phytorch.models.hydraulics import SJB2018\n\ndata = {'w': relative_water_content, 'psi': water_potential}\nresult = fit(SJB2018(), data)\nprint(f\"Turgor loss point: {result.parameters['w_tlp']:.3f}\")\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"photosynthesis-models-phytorchmodelsphotosynthesis",children:["Photosynthesis Models (",(0,r.jsx)(n.code,{children:"phytorch.models.photosynthesis"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Leaf gas exchange models:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Model"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Required Data"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"FvCB"})}),(0,r.jsx)(n.td,{children:"Farquhar-von Caemmerer-Berry C3 photosynthesis"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Ci"}),", ",(0,r.jsx)(n.code,{children:"Q"}),", ",(0,r.jsx)(n.code,{children:"Tleaf"}),"/",(0,r.jsx)(n.code,{children:"T"}),", ",(0,r.jsx)(n.code,{children:"A"})]})]})})]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from phytorch import fit\nfrom phytorch.models.photosynthesis import FvCB\n\ndata = {\n    'Ci': intercellular_co2,\n    'Q': light_intensity,\n    'Tleaf': leaf_temperature,\n    'A': net_photosynthesis\n}\nresult = fit(FvCB(), data)\nresult.plot()  # Generates comprehensive photosynthesis plots\n"})}),"\n",(0,r.jsx)(n.h2,{id:"fitresult-object",children:"FitResult Object"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"FitResult"})," object returned by ",(0,r.jsx)(n.code,{children:"fit()"})," contains:"]}),"\n",(0,r.jsx)(n.h3,{id:"attributes",children:"Attributes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"parameters"}),": Dictionary of fitted parameter values"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"r_squared"}),": Coefficient of determination"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"rmse"}),": Root mean squared error"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data"}),": Original data used for fitting"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"model"}),": The fitted model instance"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"predict(data)"}),": Generate predictions for new data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"plot(save=None, show=True)"}),": Visualize fit results"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Using FitResult\nresult = fit(model, data)\n\n# Access fitted parameters\nvcmax = result.parameters['Vcmax25']\n\n# Make predictions\npredictions = result.predict(new_data)\n\n# Plot results\nresult.plot(save='my_fit.png')\n"})}),"\n",(0,r.jsx)(n.h2,{id:"fitoptions",children:"FitOptions"}),"\n",(0,r.jsx)(n.p,{children:"Customize the fitting process:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from phytorch import fit, FitOptions\n\noptions = FitOptions(\n    optimizer='scipy',           # 'scipy' or 'adam'\n    maxiter=5000,                # Maximum iterations\n    bounds={'param': (0, 100)}   # Parameter bounds\n)\n\nresult = fit(model, data, options)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"fitoptions-parameters",children:"FitOptions Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"optimizer"}),": Optimizer to use ('scipy', 'adam')"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"maxiter"}),": Maximum number of iterations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"bounds"}),": Dictionary of parameter bounds ",(0,r.jsx)(n.code,{children:"{param: (lower, upper)}"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"initial_guess"}),": Dictionary of initial parameter values"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"model-base-class",children:"Model Base Class"}),"\n",(0,r.jsxs)(n.p,{children:["All models inherit from the ",(0,r.jsx)(n.code,{children:"Model"})," base class and implement:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class Model:\n    def forward(self, data: dict, parameters: dict) -> np.ndarray:\n        """Compute model predictions"""\n        pass\n\n    def parameter_info(self) -> dict:\n        """Return parameter bounds and metadata"""\n        pass\n\n    def required_data(self) -> list:\n        """Return list of required data fields"""\n        pass\n\n    def initial_guess(self, data: dict) -> dict:\n        """Generate initial parameter estimates"""\n        pass\n'})}),"\n",(0,r.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,r.jsx)(n.h3,{id:"fitting-a-model",children:"Fitting a Model"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from phytorch import fit\nfrom phytorch.models.generic import Sigmoidal\n\nresult = fit(Sigmoidal(), {'x': x_data, 'y': y_data})\n"})}),"\n",(0,r.jsx)(n.h3,{id:"plotting-results",children:"Plotting Results"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"result.plot()                    # Show plot\nresult.plot(save='fit.png')      # Save plot\nresult.plot(save='fit.png', show=False)  # Save without showing\n"})}),"\n",(0,r.jsx)(n.h3,{id:"making-predictions",children:"Making Predictions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"new_data = {'x': new_x_values, 'y': new_y_values}\npredictions = result.predict(new_data)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var s=i(6540);const r={},t=s.createContext(r);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);