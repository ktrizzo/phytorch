"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[643],{8418:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>m,frontMatter:()=>t,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"models/canopy","title":"Canopy Architecture Models","description":"PhyTorch implements models for characterizing canopy architecture, including leaf angle distribution which describes how leaves are oriented within a plant canopy.","source":"@site/docs/models/canopy.md","sourceDirName":"models","slug":"/models/canopy","permalink":"/docs/models/canopy","draft":false,"unlisted":false,"editUrl":"https://github.com/PlantSimulationLab/phytorch/tree/main/website/docs/models/canopy.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Hydraulic Models","permalink":"/docs/models/hydraulics"},"next":{"title":"Community Notebook: Photosynthesis Analysis with PhyTorch","permalink":"/docs/notebooks/photosynthesis-analysis"}}');var i=n(4848),l=n(8453);const t={sidebar_position:5},r="Canopy Architecture Models",c={},h=[{value:"Leaf Angle Distribution",id:"leaf-angle-distribution",level:2},{value:"Beta Distribution Model",id:"beta-distribution-model",level:3},{value:"Canonical Distribution Types",id:"canonical-distribution-types",level:3},{value:"Usage",id:"usage",level:3},{value:"Example: Planophile Canopy",id:"example-planophile-canopy",level:3},{value:"Example: Erectophile Canopy",id:"example-erectophile-canopy",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Data Requirements",id:"data-requirements",level:3},{value:"Measuring Leaf Angles",id:"measuring-leaf-angles",level:3},{value:"Interpretation",id:"interpretation",level:3},{value:"Classification Confidence",id:"classification-confidence",level:3},{value:"Applications",id:"applications",level:3},{value:"Custom Parameter Bounds",id:"custom-parameter-bounds",level:2},{value:"Model Comparison",id:"model-comparison",level:2},{value:"References",id:"references",level:2}];function d(s){const e={annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msup:"msup",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"canopy-architecture-models",children:"Canopy Architecture Models"})}),"\n",(0,i.jsx)(e.p,{children:"PhyTorch implements models for characterizing canopy architecture, including leaf angle distribution which describes how leaves are oriented within a plant canopy."}),"\n",(0,i.jsx)(e.h2,{id:"leaf-angle-distribution",children:"Leaf Angle Distribution"}),"\n",(0,i.jsx)(e.p,{children:"Leaf angle distribution (LAD) describes the angular distribution of leaf inclination angles within a canopy. This is a critical parameter for understanding light interception, photosynthesis, and canopy radiative transfer."}),"\n",(0,i.jsx)(e.h3,{id:"beta-distribution-model",children:"Beta Distribution Model"}),"\n",(0,i.jsx)(e.p,{children:"The leaf angle distribution follows a beta distribution parameterized by shape parameters \u03bc and \u03bd:"}),"\n",(0,i.jsx)(e.span,{className:"katex-display",children:(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"f"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"\u03b8"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.mfrac,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msup,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"sin"}),(0,i.jsx)(e.mo,{children:"\u2061"})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"\u03bc"}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsx)(e.mn,{children:"1"})]})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"\u03b8"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mo,{children:"\u22c5"}),(0,i.jsxs)(e.msup,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"cos"}),(0,i.jsx)(e.mo,{children:"\u2061"})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"\u03bd"}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsx)(e.mn,{children:"1"})]})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"\u03b8"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"B"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"\u03bc"}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsx)(e.mi,{children:"\u03bd"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mo,{children:"\u22c5"}),(0,i.jsx)(e.mn,{children:"90"})]})]})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"f(\\theta) = \\frac{\\sin^{\\mu-1}(\\theta) \\cdot \\cos^{\\nu-1}(\\theta)}{B(\\mu, \\nu) \\cdot 90}"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"2.4849em",verticalAlign:"-0.936em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(e.span,{className:"mfrac",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"1.5489em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"\u03bc"}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.06366em"},children:"\u03bd"}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u22c5"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mord",children:"90"})]})]}),(0,i.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsxs)(e.span,{className:"mop",children:[(0,i.jsx)(e.span,{className:"mop",children:"sin"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsx)(e.span,{className:"vlist-t",children:(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.8719em"},children:(0,i.jsxs)(e.span,{style:{top:"-3.1208em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"\u03bc"}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})]})})]})})})})})]}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u22c5"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsxs)(e.span,{className:"mop",children:[(0,i.jsx)(e.span,{className:"mop",children:"cos"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsx)(e.span,{className:"vlist-t",children:(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,i.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.06366em"},children:"\u03bd"}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})]})})]})})})})})]}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.936em"},children:(0,i.jsx)(e.span,{})})})]})}),(0,i.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,i.jsx)(e.p,{children:"where:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{children:"\u03b8"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\theta"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"})]})})]})," = Leaf inclination angle from horizontal (0-90\xb0)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{children:"\u03bc"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mu"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"\u03bc"})]})})]})," = First shape parameter (controls horizontal tendency)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{children:"\u03bd"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\nu"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.06366em"},children:"\u03bd"})]})})]})," = Second shape parameter (controls vertical tendency)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"B"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"\u03bc"}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsx)(e.mi,{children:"\u03bd"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"B(\\mu, \\nu)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"\u03bc"}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.06366em"},children:"\u03bd"}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]})," = Beta function"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"canonical-distribution-types",children:"Canonical Distribution Types"}),"\n",(0,i.jsx)(e.p,{children:"Following de Wit (1965), leaf angle distributions are classified into six canonical types based on their fitted \u03bc and \u03bd parameters:"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Type"}),(0,i.jsx)(e.th,{children:"Description"}),(0,i.jsx)(e.th,{children:"\u03bc"}),(0,i.jsx)(e.th,{children:"\u03bd"}),(0,i.jsx)(e.th,{children:"Example Species"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Planophile"})}),(0,i.jsx)(e.td,{children:"Mostly horizontal leaves"}),(0,i.jsx)(e.td,{children:"2.770"}),(0,i.jsx)(e.td,{children:"1.172"}),(0,i.jsx)(e.td,{children:"Oak, broadleaf crops"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Erectophile"})}),(0,i.jsx)(e.td,{children:"Mostly vertical leaves"}),(0,i.jsx)(e.td,{children:"1.172"}),(0,i.jsx)(e.td,{children:"2.770"}),(0,i.jsx)(e.td,{children:"Grasses, willow"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Plagiophile"})}),(0,i.jsx)(e.td,{children:"Mostly oblique leaves"}),(0,i.jsx)(e.td,{children:"3.326"}),(0,i.jsx)(e.td,{children:"3.326"}),(0,i.jsx)(e.td,{children:"Many conifers"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Extremophile"})}),(0,i.jsx)(e.td,{children:"Both horizontal and vertical"}),(0,i.jsx)(e.td,{children:"0.433"}),(0,i.jsx)(e.td,{children:"0.433"}),(0,i.jsx)(e.td,{children:"Some shrubs"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Uniform"})}),(0,i.jsx)(e.td,{children:"Equal distribution"}),(0,i.jsx)(e.td,{children:"1.000"}),(0,i.jsx)(e.td,{children:"1.000"}),(0,i.jsx)(e.td,{children:"Theoretical"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Spherical"})}),(0,i.jsx)(e.td,{children:"Spherical distribution"}),(0,i.jsx)(e.td,{children:"1.101"}),(0,i.jsx)(e.td,{children:"1.930"}),(0,i.jsx)(e.td,{children:"Many tree species"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from phytorch import fit\nfrom phytorch.models.canopy import LeafAngleDistribution\nimport numpy as np\n\n# Leaf angle data (degrees from horizontal)\n# Can be binned frequency data or individual measurements\ndata = {\n    'theta': np.array([5, 15, 25, 35, 45, 55, 65, 75, 85]),  # Angle bins\n    'frequency': np.array([0.05, 0.12, 0.18, 0.22, 0.20, 0.13, 0.07, 0.02, 0.01])  # Relative frequency\n}\n\n# Fit the model\nmodel = LeafAngleDistribution()\nresult = fit(model, data)\n\n# View fitted parameters\nprint(f\"\u03bc = {result.parameters['mu']:.3f}\")\nprint(f\"\u03bd = {result.parameters['nu']:.3f}\")\nprint(f\"R\xb2 = {result.r_squared:.4f}\")\n\n# Classify into canonical type\nclassification = model.classify(result.parameters)\nprint(f\"\\nCanopy type: {classification['type']}\")\nprint(f\"Distance from canonical: {classification['distance']:.3f}\")\nprint(f\"Canonical \u03bc: {classification['canonical_mu']:.3f}\")\nprint(f\"Canonical \u03bd: {classification['canonical_nu']:.3f}\")\n\n# Plot the distribution\nresult.plot()\n"})}),"\n",(0,i.jsx)(e.h3,{id:"example-planophile-canopy",children:"Example: Planophile Canopy"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from phytorch import fit\nfrom phytorch.models.canopy import LeafAngleDistribution\nimport numpy as np\n\n# Simulate planophile canopy (mostly horizontal leaves)\ndata = {\n    'theta': np.array([10, 20, 30, 40, 50, 60, 70, 80]),\n    'frequency': np.array([0.25, 0.30, 0.20, 0.12, 0.07, 0.04, 0.01, 0.01])\n}\n\nmodel = LeafAngleDistribution()\nresult = fit(model, data)\n\nclassification = model.classify(result.parameters)\nprint(f\"Canopy type: {classification['type']}\")  # Expected: planophile\n"})}),"\n",(0,i.jsx)(e.h3,{id:"example-erectophile-canopy",children:"Example: Erectophile Canopy"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from phytorch import fit\nfrom phytorch.models.canopy import LeafAngleDistribution\nimport numpy as np\n\n# Simulate erectophile canopy (mostly vertical leaves)\ndata = {\n    'theta': np.array([10, 20, 30, 40, 50, 60, 70, 80]),\n    'frequency': np.array([0.01, 0.02, 0.05, 0.10, 0.18, 0.25, 0.28, 0.11])\n}\n\nmodel = LeafAngleDistribution()\nresult = fit(model, data)\n\nclassification = model.classify(result.parameters)\nprint(f\"Canopy type: {classification['type']}\")  # Expected: erectophile\n"})}),"\n",(0,i.jsx)(e.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Parameter"}),(0,i.jsx)(e.th,{children:"Description"}),(0,i.jsx)(e.th,{children:"Typical Range"}),(0,i.jsx)(e.th,{children:"Units"}),(0,i.jsx)(e.th,{children:"Default"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"mu"})}),(0,i.jsx)(e.td,{children:"First shape parameter"}),(0,i.jsx)(e.td,{children:"0.4-3.5"}),(0,i.jsx)(e.td,{children:"-"}),(0,i.jsx)(e.td,{children:"1.5"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"nu"})}),(0,i.jsx)(e.td,{children:"Second shape parameter"}),(0,i.jsx)(e.td,{children:"0.4-3.5"}),(0,i.jsx)(e.td,{children:"-"}),(0,i.jsx)(e.td,{children:"1.5"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"data-requirements",children:"Data Requirements"}),"\n",(0,i.jsx)(e.p,{children:"Leaf angle distribution data can be provided in two formats:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Binned frequency data"})," (recommended):"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"theta"}),": Center of angle bins (degrees, 0-90)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"frequency"}),": Relative frequency in each bin (normalized to sum to 1)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Individual measurements"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"theta"}),": Individual leaf angle measurements"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"frequency"}),": Can be omitted (assumes equal weight)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"measuring-leaf-angles",children:"Measuring Leaf Angles"}),"\n",(0,i.jsx)(e.p,{children:"Leaf inclination angles are typically measured using:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Protractors or inclinometers for direct measurement"}),"\n",(0,i.jsx)(e.li,{children:"Hemispherical photography analysis"}),"\n",(0,i.jsx)(e.li,{children:"LiDAR-based canopy scanning"}),"\n",(0,i.jsx)(e.li,{children:"Manual sampling of representative leaves"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Best practices:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Sample 30-50 leaves per canopy for robust estimates"}),"\n",(0,i.jsx)(e.li,{children:"Stratify sampling across canopy layers if relevant"}),"\n",(0,i.jsx)(e.li,{children:"Measure from horizontal (0\xb0) to vertical (90\xb0)"}),"\n",(0,i.jsx)(e.li,{children:"Record multiple canopies per species/treatment for variability"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"interpretation",children:"Interpretation"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Shape Parameter Relationships"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"\u03bc"}),(0,i.jsx)(e.mo,{children:">"}),(0,i.jsx)(e.mi,{children:"\u03bd"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mu > \\nu"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.7335em",verticalAlign:"-0.1944em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"\u03bc"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:">"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.06366em"},children:"\u03bd"})]})]})]}),": Tendency toward horizontal leaves (planophile)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"\u03bc"}),(0,i.jsx)(e.mo,{children:"<"}),(0,i.jsx)(e.mi,{children:"\u03bd"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mu < \\nu"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.7335em",verticalAlign:"-0.1944em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"\u03bc"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"<"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.06366em"},children:"\u03bd"})]})]})]}),": Tendency toward vertical leaves (erectophile)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"\u03bc"}),(0,i.jsx)(e.mo,{children:"\u2248"}),(0,i.jsx)(e.mi,{children:"\u03bd"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mu \\approx \\nu"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6776em",verticalAlign:"-0.1944em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"\u03bc"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"\u2248"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.06366em"},children:"\u03bd"})]})]})]}),": Symmetrical distribution (plagiophile, uniform, or spherical)"]}),"\n",(0,i.jsxs)(e.li,{children:["Low ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{children:"\u03bc"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mu"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"\u03bc"})]})})]})," and ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsx)(e.mi,{children:"\u03bd"})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\nu"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.06366em"},children:"\u03bd"})]})})]})," (",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mo,{children:"<"}),(0,i.jsx)(e.mn,{children:"1"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"< 1"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.5782em",verticalAlign:"-0.0391em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"<"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(e.span,{className:"mord",children:"1"})]})]})]}),"): Bimodal distribution (extremophile)"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Ecological Significance"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Planophile"})," canopies maximize light interception in low-light environments"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Erectophile"})," canopies reduce light saturation and overheating in high-light environments"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Spherical"})," distributions are common in mature forest canopies"]}),"\n",(0,i.jsx)(e.li,{children:"LAD affects canopy photosynthesis, water use efficiency, and microclimate"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"classification-confidence",children:"Classification Confidence"}),"\n",(0,i.jsxs)(e.p,{children:["The ",(0,i.jsx)(e.code,{children:"distance"})," value in classification results indicates how close the fitted distribution is to the canonical type:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Distance < 0.5: Strong match to canonical type"}),"\n",(0,i.jsx)(e.li,{children:"Distance 0.5-1.0: Moderate match"}),"\n",(0,i.jsx)(e.li,{children:"Distance > 1.0: Weak match, intermediate between types"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"applications",children:"Applications"}),"\n",(0,i.jsx)(e.p,{children:"Leaf angle distribution is used in:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Radiative transfer models"}),": Light penetration and absorption"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Photosynthesis models"}),": Canopy-scale carbon assimilation"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Remote sensing"}),": Vegetation indices and LAI retrieval"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Crop modeling"}),": Yield prediction and optimization"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Climate models"}),": Surface energy balance"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"custom-parameter-bounds",children:"Custom Parameter Bounds"}),"\n",(0,i.jsx)(e.p,{children:"Constrain parameters based on expected canopy structure:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from phytorch import fit, FitOptions\n\n# Constrain to planophile-like distributions\noptions = FitOptions(\n    bounds={\n        'mu': (2.0, 4.0),  # Higher mu favors horizontal\n        'nu': (0.5, 2.0)   # Lower nu\n    }\n)\n\nresult = fit(LeafAngleDistribution(), data, options)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"model-comparison",children:"Model Comparison"}),"\n",(0,i.jsx)(e.p,{children:"Compare leaf angle distributions across species or treatments:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# Fit multiple canopies\ncanopies = {\n    'Oak': oak_data,\n    'Grass': grass_data,\n    'Pine': pine_data\n}\n\nmodel = LeafAngleDistribution()\nresults = {}\n\nfor name, data in canopies.items():\n    result = fit(model, data)\n    classification = model.classify(result.parameters)\n    results[name] = classification\n    print(f\"{name}: {classification['type']} (\u03bc={classification['mu']:.2f}, \u03bd={classification['nu']:.2f})\")\n"})}),"\n",(0,i.jsx)(e.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["de Wit, C. T. (1965). Photosynthesis of Leaf Canopies. ",(0,i.jsx)(e.em,{children:"Agricultural Research Reports No. 663"}),", Pudoc, Wageningen."]}),"\n",(0,i.jsxs)(e.li,{children:["Campbell, G. S. (1986). Extinction coefficients for radiation in plant canopies calculated using an ellipsoidal inclination angle distribution. ",(0,i.jsx)(e.em,{children:"Agricultural and Forest Meteorology"}),", 36(4), 317-321."]}),"\n",(0,i.jsxs)(e.li,{children:["Wang, W. M., Li, Z. L., & Su, H. B. (2007). Comparison of leaf angle distribution functions: Effects on extinction coefficient and fraction of sunlit foliage. ",(0,i.jsx)(e.em,{children:"Agricultural and Forest Meteorology"}),", 143(1-2), 106-122."]}),"\n"]})]})}function m(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(d,{...s})}):d(s)}},8453:(s,e,n)=>{n.d(e,{R:()=>t,x:()=>r});var a=n(6540);const i={},l=a.createContext(i);function t(s){const e=a.useContext(l);return a.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(i):s.components||i:t(s.components),a.createElement(l.Provider,{value:e},s.children)}}}]);